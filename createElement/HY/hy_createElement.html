<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>div 추가해보기</title>

    <style>
        .container {
            width: 200px;
            height: 150px;
            text-align: center;
        }
    </style>
</head>
<body>

    <div class="container">
        <!--새로운 div 추가 공간-->
    </div>

    <button class="addnew" data-color="green"> new </button>
    <button class="addnew2" data-color="blue"> old </button>

    <script>
        /*
        // 새로운 div 생성
        let newdiv = document.createElement('div');

        //내용추가
        let newcontent = document.createTextNode('나는 새로운 것이 좋아!');
        newdiv.appendChild(newcontent);

        newdiv.style.color = 'green';
        newdiv.style.backgroundColor = 'lightyellow';

        let newdiv2 = document.createElement('div');

        let newcontent2 = document.createTextNode('나는 오래된 것이 좋아!');
        newdiv2.appendChild(newcontent2);

        newdiv2.style.color = 'blue';
        newdiv2.style.backgroundColor = 'lightblue';

        //생성된 것을 기존 요소에 추가
       // document.querySelector('.container').appendChild(newdiv);

       let addcon = document.querySelector('.container');
       addcon.appendChild(newdiv);
       addcon.appendChild(newdiv2);
       
       */

       // 비우기 함수 _ 분석해봐야함
       let del = document.querySelector('.container');

       function removeAllChildNodes(parent) {
        while (parent.firstChild) {
            parent.removeChild(parent.firstChild);
        }
       }

       function addnew(color, text) {
        // 비우기
        removeAllChildNodes(del);

        //새로운 div 생성
        let newdiv = document.createElement('div');
        let newcontent = document.createTextNode(text);
        newdiv.appendChild(newcontent);

        // 색지정하기
        newdiv.style.color = color === 'green' ? 'green' : 'blue';
        newdiv.style.backgroundColor = color === 'green' ? 'lightyellow' : 'lightblue';

        

        //생성된거 기존에 추가
        document.querySelector('.container').appendChild(newdiv);

       };

       document.querySelectorAll('.addnew, .addnew2').forEach(button => { // 둘다 각각 이벤트 주기
        button.addEventListener('click', function() {
            let color = this.getAttribute('data-color'); // 각각 색 가져오기
            let text = color === 'green' ? '나는 새로운 것이 좋아' : '나는 오래된 것이 좋아'; // 색에 맞춰 텍스트 가져오기
            addnew(color,text); // 추가
        });
       });

    </script>
    
</body>
</html>